
{% comment %}
  target_link.html
  Usage:
    - href:    (required) A numeric value matching 'order' variable in a linked tutorial or a direct URL.
    - section: (optional) A subsection on the page to link to, preceded by '#'.
    - text:    (optional) The text for the link. By default, the title of the page matched with the order.
    - button:  (optional) Any text or value, when provided converts link to a button.
    - level:   (optional) Integer number (0 by default) setting the indentation (useful for bullet lists).
{% endcomment %}


{% if include.href contains 'http' %}
  {% assign href = include.href %}
{% else %}
  {% assign content = site['collection-base'] | sort: 'order' %}
  {% assign item = content | where: "order", include.href | first %}
  {% assign href = item.url %}
  {% assign text = item.title %}
{% endif %}

{% if include.section %}
  {% assign href = href | append: include.section %}
{% endif %}

{% if include.text %}
  {% assign text = include.text %}
{% endif %}

{% assign level = "" %}
{% if include.level %}
  {% assign level = "level-" | append: include.level %}
{% endif %}

{% if include.button %}
  <p class="wrapper {{ level }}"> <a href="{{ href }}" target="_blank" class="target-link"><input type="button" value={{ text }} class="target-link-btn" /></a></p>
{% else %}
  <p class="wrapper {{ level }}"> <a href="{{ href }}" target="_blank" class="target-link">{{ text }}</a></p>
{% endif %}
